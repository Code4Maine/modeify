#!/usr/bin/env node

// Environment vars

var env = process.env.NODE_ENV;
var port = process.env.PORT || 5000;

// If `NODE_ENV` is not set throw

if (process.env.NODE_ENV === undefined) throw new Error('Envrionment variables must be set. See `.env.tmp`.');

// If environment is `development`, build on load

if (env === 'development') require('./build');

// Run the server

require('../server').listen(port, function() {
  console.log('\033[36m[commute-planner] \033[90mserver listening on port', port);
});
